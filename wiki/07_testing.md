# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã ¬´–£–º–Ω–∞—è –ø—Ä–µ–º–∏—è¬ª

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#1-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
2. [–¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ](#2-—Ç–µ—Å—Ç–æ–≤–æ–µ-–æ–∫—Ä—É–∂–µ–Ω–∏–µ)
3. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#3-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
4. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#4-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
5. [–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#5-–Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
6. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#6-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
7. [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã](#7-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ-—Ç–µ—Å—Ç—ã)
8. [–ß–µ–∫-–ª–∏—Å—Ç—ã —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#8-—á–µ–∫-–ª–∏—Å—Ç—ã-—Ä—É—á–Ω–æ–≥–æ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

---

## 1. –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1.1 –£—Ä–æ–≤–Ω–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```mermaid
graph TB
    A[Unit Tests] --> B[Integration Tests]
    B --> C[API Tests]
    C --> D[E2E Tests]
    D --> E[Performance Tests]
    E --> F[Security Tests]
```

### 1.2 –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞

- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: < 2 —Å–µ–∫ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é, < 5 —Å–µ–∫ –Ω–∞ —Ä–∞—Å—á–µ—Ç –ø—Ä–µ–º–∏–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: OWASP Top 10 compliance
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: 99.9% uptime, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤

---

## 2. –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### 2.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
# docker-compose.test.yml
version: '3.8'
services:
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: smart_bonus_test
      POSTGRES_USER: test
      POSTGRES_PASSWORD: test
    ports:
      - "5433:5432"

  redis:
    image: redis:7-alpine
    ports:
      - "6380:6379"

  api:
    build: .
    environment:
      NODE_ENV: test
      DATABASE_URL: postgresql://test:test@postgres:5432/smart_bonus_test
      REDIS_URL: redis://redis:6379
    depends_on:
      - postgres
      - redis
```

### 2.2 –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞

```bash
#!/bin/bash
# scripts/test-setup.sh

echo "üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è..."

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞
docker-compose -f docker-compose.test.yml down
docker volume prune -f

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.test.yml up -d

# –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ë–î
until docker exec smart_bonus_postgres_1 pg_isready -U test; do
  sleep 1
done

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
npm run db:seed:test

echo "‚úÖ –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ"
```

---

## 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3.1 –¢–µ—Å—Ç-–∫–µ–π—Å—ã: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è | –®–∞–≥–∏ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|----|----------|-------------|------|---------------------|
| AUTH-01 | –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–µ | 1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å initData<br>2. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω | –°—Ç–∞—Ç—É—Å 200, –≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω |
| AUTH-02 | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç | 1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å initData –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –°—Ç–∞—Ç—É—Å 404, —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω" |
| AUTH-03 | –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è –ø–æ–¥–ø–∏—Å—å Telegram | - | 1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ–ª—å–Ω—ã–π initData | –°—Ç–∞—Ç—É—Å 401, "–ù–µ–≤–µ—Ä–Ω–∞—è –ø–æ–¥–ø–∏—Å—å Telegram" |
| AUTH-04 | –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω | –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫ | 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω | –°—Ç–∞—Ç—É—Å 403, "–¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫" |

### 3.2 –¢–µ—Å—Ç-–∫–µ–π—Å—ã: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è | –®–∞–≥–∏ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|----|----------|-------------|------|---------------------|
| SESS-01 | –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å - –∞–¥–º–∏–Ω | 1. POST /sessions —Å –¥–∞—Ç–∞–º–∏ | –°—Ç–∞—Ç—É—Å 201, —Å–æ–∑–¥–∞–Ω–∞ —Å–µ—Å—Å–∏—è —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ |
| SESS-02 | –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏ | –ê–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç | 1. POST /sessions/{id}/close | –°—Ç–∞—Ç—É—Å 200, —Å–µ—Å—Å–∏—è –∑–∞–∫—Ä—ã—Ç–∞, —Ä–∞—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |
| SESS-03 | –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ | –°–µ—Å—Å–∏—è –∑–∞–∫—Ä—ã—Ç–∞ < 72—á –Ω–∞–∑–∞–¥ | 1. POST /sessions/{id}/reopen | –°—Ç–∞—Ç—É—Å 200, —Å–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞, –Ω–æ–≤—ã–µ –¥–∞—Ç—ã |
| SESS-04 | –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏ | - | 1. GET /sessions/current | –°—Ç–∞—Ç—É—Å 200, –¥–∞–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏ |

### 3.3 –¢–µ—Å—Ç-–∫–µ–π—Å—ã: –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è | –®–∞–≥–∏ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|----|----------|-------------|------|---------------------|
| VOTE-01 | –£—Å–ø–µ—à–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å | 1. POST /votes —Å –æ—Ü–µ–Ω–∫–∞–º–∏ | –°—Ç–∞—Ç—É—Å 200, –≥–æ–ª–æ—Å–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã |
| VOTE-02 | –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –∑–∞ —Å–µ–±—è | - | 1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–æ–ª–æ—Å –∑–∞ —Å–µ–±—è | –°—Ç–∞—Ç—É—Å 200, —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ |
| VOTE-03 | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞ | –£–∂–µ –≥–æ–ª–æ—Å–æ–≤–∞–ª –∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ | 1. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≥–æ–ª–æ—Å –∑–∞ —Ç–æ–≥–æ –∂–µ | –°—Ç–∞—Ç—É—Å 409, "–£–∂–µ –≥–æ–ª–æ—Å–æ–≤–∞–ª–∏" |
| VOTE-04 | –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø—Ä–∞–≤ | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å can_vote=false | 1. –ü–æ–ø—ã—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è | –°—Ç–∞—Ç—É—Å 403, "–ù–µ—Ç –ø—Ä–∞–≤" |

### 3.4 –¢–µ—Å—Ç-–∫–µ–π—Å—ã: –†–∞—Å—á–µ—Ç –ø—Ä–µ–º–∏–∏

| ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è | –®–∞–≥–∏ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|----|----------|-------------|------|---------------------|
| BONUS-01 | –†–∞—Å—á–µ—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ | –ì–æ–ª–æ—Å–∞ –µ—Å—Ç—å, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã | 1. –ó–∞–∫—Ä—ã—Ç—å —Å–µ—Å—Å–∏—é | –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç _T1-_T4, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–º–∏–∏ |
| BONUS-02 | –†–∞—Å—á–µ—Ç –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ | –ì–æ–ª–æ—Å–∞ –µ—Å—Ç—å, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–µ—Ç | 1. –ó–∞–∫—Ä—ã—Ç—å —Å–µ—Å—Å–∏—é | –°—Ç–∞—Ç—É—Å 422, "–ù–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–µ–º–∏–∏" |
| BONUS-03 | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–π | 3 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–∞–∑–Ω—ã–º–∏ –æ—Ü–µ–Ω–∫–∞–º–∏ | 1. –†–∞—Å—á–µ—Ç –ø—Ä–µ–º–∏–∏ | –°—É–º–º–∞ –ø—Ä–µ–º–∏–π = total_weekly_bonus |
| BONUS-04 | –ù—É–ª–µ–≤—ã–µ –æ—Ü–µ–Ω–∫–∏ | –í—Å–µ –æ—Ü–µ–Ω–∫–∏ = 0 | 1. –†–∞—Å—á–µ—Ç –ø—Ä–µ–º–∏–∏ | –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–ª–∏ –æ—à–∏–±–∫–∞ |

---

## 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 4.1 –ü–æ—Ç–æ–∫ –ø–æ–ª–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

```javascript
// tests/integration/full-voting-flow.test.js
describe('–ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è', () => {
  test('–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ ‚Üí –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ ‚Üí –†–∞—Å—á–µ—Ç ‚Üí –≠–∫—Å–ø–æ—Ä—Ç', async () => {
    // 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏
    const session = await api.createSession({
      start_date: '2024-01-01',
      end_date: '2024-01-07'
    });
    
    // 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–µ–º–∏–∏
    await api.setBonusParams(session.id, {
      total_weekly_bonus: 10000,
      participation_multiplier: 0.8
    });
    
    // 3. –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    await api.vote(user1Token, session.id, [
      { user_id: 102, score: 8 },
      { user_id: 103, score: 9 }
    ]);
    
    await api.vote(user2Token, session.id, [
      { user_id: 101, score: 7 },
      { user_id: 103, score: 8 }
    ]);
    
    // 4. –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏ –∏ —Ä–∞—Å—á–µ—Ç
    const results = await api.closeSession(session.id);
    
    // 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    expect(results.summary.total_bonus_distributed).toBe(10000);
    expect(results.results).toHaveLength(3);
    
    // 6. –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    const exportData = await api.exportResults(session.id);
    expect(exportData).toContain('–§–ò–û,–ü—Ä–µ–º–∏—è');
  });
});
```

### 4.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

```javascript
// tests/integration/telegram-auth.test.js
describe('–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram', () => {
  test('–í–∞–ª–∏–¥–∞—Ü–∏—è WebApp –¥–∞–Ω–Ω—ã—Ö', async () => {
    const validInitData = generateValidInitData();
    const response = await api.authTelegram(validInitData);
    
    expect(response.status).toBe(200);
    expect(response.data.token).toBeDefined();
    expect(response.data.user.telegram_id).toBe(123456789);
  });
  
  test('–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏', async () => {
    const invalidInitData = generateInvalidInitData();
    const response = await api.authTelegram(invalidInitData);
    
    expect(response.status).toBe(401);
    expect(response.data.message).toContain('–ù–µ–≤–µ—Ä–Ω–∞—è –ø–æ–¥–ø–∏—Å—å');
  });
});
```

---

## 5. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 5.1 –°—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏

```javascript
// tests/load/voting-load.test.js
import http from 'k6/http';
import { check, sleep } from 'k6';

export const options = {
  stages: [
    { duration: '2m', target: 50 },  // –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç
    { duration: '5m', target: 50 },  // –°—Ç–∞–±–∏–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
    { duration: '2m', target: 100 }, // –ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
    { duration: '2m', target: 0 },   // –°–Ω–∏–∂–µ–Ω–∏–µ
  ],
  thresholds: {
    http_req_duration: ['p(95)<2000'], // 95% –∑–∞–ø—Ä–æ—Å–æ–≤ < 2 —Å–µ–∫
    http_req_failed: ['rate<0.01'],    // < 1% –æ—à–∏–±–æ–∫
  },
};

export default function () {
  // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  const authRes = http.post(`${BASE_URL}/auth/telegram`, {
    init_data: generateInitData()
  });
  
  const token = authRes.json('token');
  
  // –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏
  const sessionRes = http.get(`${BASE_URL}/sessions/current`, {
    headers: { 'Authorization': `Bearer ${token}` }
  });
  
  const sessionId = sessionRes.json('session_id');
  
  // –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
  const votePayload = JSON.stringify({
    session_id: sessionId,
    votes: generateRandomVotes()
  });
  
  const voteRes = http.post(`${BASE_URL}/votes`, votePayload, {
    headers: {
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    }
  });
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∏
  check(voteRes, {
    'vote successful': (r) => r.status === 200,
    'response time OK': (r) => r.timings.duration < 1000
  });
  
  sleep(1);
}
```

### 5.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–µ–º–∏–∏

```javascript
// tests/load/calculation-load.test.js
export const options = {
  scenarios: {
    calculation_stress: {
      executor: 'per-vu-iterations',
      vus: 10,
      iterations: 20,
      maxDuration: '10m',
    },
  },
};

export default function () {
  // –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
  const sessionRes = http.post(`${BASE_URL}/admin/sessions`, {
    start_date: '2024-01-01',
    end_date: '2024-01-07',
    auto_participants: true
  }, {
    headers: { 'Authorization': `Bearer ${ADMIN_TOKEN}` }
  });
  
  const sessionId = sessionRes.json('session_id');
  
  // –ú–∞—Å—Å–æ–≤–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (—ç–º—É–ª–∏—Ä—É–µ–º 100 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
  for (let i = 0; i < 100; i++) {
    const votePayload = JSON.stringify({
      session_id: sessionId,
      votes: generateMassVotes()
    });
    
    http.post(`${BASE_URL}/votes`, votePayload, {
      headers: { 'Authorization': `Bearer ${USER_TOKENS[i]}` }
    });
  }
  
  // –†–∞—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  const calcRes = http.post(`${BASE_URL}/admin/sessions/${sessionId}/close`, {}, {
    headers: { 'Authorization': `Bearer ${ADMIN_TOKEN}` }
  });
  
  check(calcRes, {
    'calculation completed': (r) => r.status === 200,
    'calculation time < 5s': (r) => r.timings.duration < 5000
  });
}
```

---

## 6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 6.1 –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ API

```javascript
// tests/security/api-security.test.js
describe('–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å API', () => {
  test('–ó–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π', async () => {
    const maliciousPayload = {
      session_id: "1; DROP TABLE users; --",
      votes: [{ user_id: "101 OR 1=1", score: 10 }]
    };
    
    const response = await api.vote(userToken, maliciousPayload);
    expect(response.status).not.toBe(500);
    // –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞, –∞ –Ω–µ SQL –æ—à–∏–±–∫–∞
  });
  
  test('–ó–∞—â–∏—Ç–∞ –æ—Ç XSS', async () => {
    const xssPayload = {
      name: "<script>alert('xss')</script>",
      user_id: 999
    };
    
    const response = await api.createUser(adminToken, xssPayload);
    // –ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
    expect(response.data.name).not.toContain('<script>');
  });
  
  test('–ü—Ä–æ–≤–µ—Ä–∫–∞ CORS', async () => {
    const response = await api.request('OPTIONS', '/votes', {
      headers: {
        'Origin': 'http://malicious-site.com',
        'Access-Control-Request-Method': 'POST'
      }
    });
    
    // –î–æ–ª–∂–Ω—ã —Ä–∞–∑—Ä–µ—à–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã
    expect(response.headers['access-control-allow-origin']).not.toBe('*');
  });
});
```

### 6.2 –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–∞–≤

```javascript
// tests/security/authorization.test.js
describe('–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞', () => {
  test('–û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Å—Å–∏–∏', async () => {
    const response = await api.createSession(userToken, {
      start_date: '2024-01-01',
      end_date: '2024-01-07'
    });
    
    expect(response.status).toBe(403);
  });
  
  test('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —á—É–∂–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã', async () => {
    const response = await api.getResults(userToken, 'other-user-id');
    expect(response.status).toBe(403);
  });
  
  test('–ú–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–º–∞–Ω–¥—ã', async () => {
    const response = await api.getTeamResults(managerToken);
    expect(response.status).toBe(200);
  });
});
```

---

## 7. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### 7.1 Unit-—Ç–µ—Å—Ç—ã

```javascript
// tests/unit/bonus-calculation.test.js
import { calculateSessionResults } from '../../src/services/bonus-calculation';

describe('–†–∞—Å—á–µ—Ç –ø—Ä–µ–º–∏–∏', () => {
  test('–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–º–∏–∏', () => {
    const votes = [
      { voter_id: 1, target_id: 2, score: 8 },
      { voter_id: 2, target_id: 1, score: 9 },
      { voter_id: 3, target_id: 1, score: 7 }
    ];
    
    const params = {
      total_weekly_bonus: 1000,
      participation_multiplier: 1.0
    };
    
    const results = calculateSessionResults(votes, params);
    
    expect(results[1].total_bonus).toBeGreaterThan(results[2].total_bonus);
    expect(results.reduce((sum, r) => sum + r.total_bonus, 0)).toBe(1000);
  });
  
  test('–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω—É–ª–µ–≤—ã—Ö –æ—Ü–µ–Ω–æ–∫', () => {
    const votes = [
      { voter_id: 1, target_id: 2, score: 0 },
      { voter_id: 2, target_id: 1, score: 0 }
    ];
    
    const results = calculateSessionResults(votes, { total_weekly_bonus: 1000 });
    
    // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–ª–∏ –æ—à–∏–±–∫–∞
    expect(results.every(r => r.total_bonus === 500)).toBe(true);
  });
});
```

### 7.2 API-—Ç–µ—Å—Ç—ã —Å Jest –∏ Supertest

```javascript
// tests/api/votes.api.test.js
const request = require('supertest');
const app = require('../../src/app');
const db = require('../../src/db');

describe('API Votes', () => {
  beforeAll(async () => {
    await db.migrate.latest();
    await db.seed.run();
  });
  
  afterAll(async () => {
    await db.destroy();
  });
  
  describe('POST /api/v1/votes', () => {
    test('–£—Å–ø–µ—à–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤', async () => {
      const response = await request(app)
        .post('/api/v1/votes')
        .set('Authorization', `Bearer ${userToken}`)
        .send({
          session_id: 1,
          votes: [
            { user_id: 2, score: 8 },
            { user_id: 3, score: 9 }
          ]
        });
      
      expect(response.status).toBe(200);
      expect(response.body.status).toBe('success');
    });
    
    test('–í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ü–µ–Ω–∫–∏ (0-10)', async () => {
      const response = await request(app)
        .post('/api/v1/votes')
        .set('Authorization', `Bearer ${userToken}`)
        .send({
          session_id: 1,
          votes: [{ user_id: 2, score: 11 }] // –ù–µ–≤–∞–ª–∏–¥–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
        });
      
      expect(response.status).toBe(400);
      expect(response.body.message).toContain('–¥–∏–∞–ø–∞–∑–æ–Ω–µ 0-10');
    });
  });
});
```

### 7.3 E2E-—Ç–µ—Å—Ç—ã —Å Playwright

```javascript
// tests/e2e/voting.spec.js
const { test, expect } = require('@playwright/test');

test.describe('–ü—Ä–æ—Ü–µ—Å—Å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è', () => {
  test('–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è', async ({ page }) => {
    // 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
    await page.goto('/');
    await page.click('text=–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram');
    
    // 2. –í—ã–±–æ—Ä —Å–µ—Å—Å–∏–∏
    await page.waitForSelector('.session-card');
    await page.click('.session-card:first-child');
    
    // 3. –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
    await page.fill('input[data-user-id="101"]', '8');
    await page.fill('input[data-user-id="102"]', '9');
    await page.click('button[type="submit"]');
    
    // 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è
    await expect(page.locator('.success-message')).toBeVisible();
    await expect(page.locator('text=–û—Ü–µ–Ω–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã')).toBeVisible();
    
    // 5. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    await page.click('text=–ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã');
    await expect(page.locator('.results-table')).toBeVisible();
  });
});
```

### 7.4 –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤

```json
// package.json
{
  "scripts": {
    "test:unit": "jest tests/unit --coverage",
    "test:api": "jest tests/api --runInBand",
    "test:integration": "jest tests/integration --runInBand",
    "test:e2e": "playwright test",
    "test:load": "k6 run tests/load/voting-load.test.js",
    "test:security": "jest tests/security",
    "test:all": "npm run test:unit && npm run test:api && npm run test:integration",
    "test:ci": "npm run test:all -- --ci --coverage --verbose"
  }
}
```

---

## 8. –ß–µ–∫-–ª–∏—Å—Ç—ã —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 8.1 –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–∏–µ–º–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è**
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏
- [ ] –°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –û—Ü–µ–Ω–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è (0-10)
- [ ] –ù–µ–ª—å–∑—è –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –¥–≤–∞–∂–¥—ã –∑–∞ –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- [ ] –°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–π
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–µ—Å—Å–∏–∏
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–µ–º–∏–∏
- [ ] –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –≥–æ–ª–æ—Å–æ–≤
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –æ—Ü–µ–Ω–æ–∫
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (XLSX/CSV)

**–†–∞—Å—á–µ—Ç –ø—Ä–µ–º–∏–∏**
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–µ—Å—Å–∏–∏
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤ _T1-_T4
- [ ] –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–º–∏–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤ (–≤—Å–µ 0, –≤—Å–µ 10)

### 8.2 –ß–µ–∫-–ª–∏—Å—Ç UI/UX —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å (–º–æ–±–∏–ª—å–Ω—ã–µ/–¥–µ—Å–∫—Ç–æ–ø)
- [ ] –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (screen readers)
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- [ ] Loading states –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**Telegram WebApp**
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Telegram
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º (light/dark)
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –∂–µ—Å—Ç–∞–º–∏
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö

### 8.3 –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏**
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏
- [ ] –†–∞—Å—á–µ—Ç –ø—Ä–µ–º–∏–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–∞–¥–º–∏–Ω)

**–ü–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏**
- [ ] –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å —Å–µ—Å—Å–∏–∏
- [ ] –°–µ—Å—Å–∏—è –±–µ–∑ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ –ø—Ä–∞–≤ –≥–æ–ª–æ—Å–∞
- [ ] –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 8.4 –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞**
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: < 2 —Å–µ–∫
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤: < 1 —Å–µ–∫
- [ ] –†–∞—Å—á–µ—Ç –ø—Ä–µ–º–∏–∏ (100 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤): < 5 —Å–µ–∫
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: < 3 —Å–µ–∫

**–ù–∞–≥—Ä—É–∑–∫–∞**
- [ ] 50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] 1000 –≥–æ–ª–æ—Å–æ–≤ –≤ —Å–µ—Å—Å–∏–∏
- [ ] –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ

---

## 9. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### 9.1 –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```javascript
// metrics to track
const metrics = {
  performance: {
    'api.response_time': 'p95 < 2s',
    'vote.processing_time': 'p95 < 1s',
    'calculation.duration': 'p95 < 5s'
  },
  business: {
    'sessions.active': 'count',
    'votes.per_session': 'average',
    'participation.rate': 'percentage',
    'users.active': 'count'
  },
  errors: {
    'auth.failures': 'rate',
    'vote.validation_errors': 'count',
    'calculation.errors': 'count'
  }
};
```

–≠—Ç–æ—Ç –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã ¬´–£–º–Ω–∞—è –ø—Ä–µ–º–∏—è¬ª –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ –ø—Ä–æ–¥–∞–∫—à–Ω. üöÄ