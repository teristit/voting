
–û—Ç–ª–∏—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è! –ü–æ—Å–ª–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ API-–¥–æ–∫—É–º–µ–Ω—Ç–∞, —è –≤–∏–∂—É, —á—Ç–æ –æ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π –Ω–∞–º–∏ —Å–∏—Å—Ç–µ–º–µ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. –û–¥–Ω–∞–∫–æ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è:

# API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã ¬´–£–º–Ω–∞—è –ø—Ä–µ–º–∏—è¬ª (–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)

## üîÑ –û—Å–Ω–æ–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1.1 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram (–¥–æ–ø–æ–ª–Ω–µ–Ω–æ)
```bash
POST /api/v1/auth/telegram
Content-Type: application/json

{
  "init_data": "tgWebAppData=query_id=AAHdF6IQAAAAAN0XohDhr8c&user=..."
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "success",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "user_id": 123456789,
    "name": "John Doe",
    "role": "user",
    "active": true
  },
  "expires_in": 3600
}
```

### 3.1 –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)

**Backend —Ç–µ–ø–µ—Ä—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–ª—è–µ—Ç—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–º —Å–µ—Å—Å–∏–∏ (`session_participants`)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å (`can_vote = true`)
- –¶–µ–ª–µ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –≥–æ–ª–æ—Å–∞ (`can_receive_votes = true`)

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ (–¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)

#### 4.5 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–µ—Å—Å–∏–∏
```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
POST /api/v1/admin/sessions/{session_id}/participants
{
  "user_ids": [101, 102, 103],
  "can_vote": true,
  "can_receive_votes": true,
  "status": "active"
}

# –ü—Ä–æ—Å–º–æ—Ç—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
GET /api/v1/admin/sessions/{session_id}/participants

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤ —É—á–∞—Å—Ç–Ω–∏–∫–∞
PATCH /api/v1/admin/sessions/{session_id}/participants/{user_id}
{
  "can_vote": false,
  "status": "vacation"
}
```

### 5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–æ)

### 5.3 –ü–æ–ª—É—á–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
```bash
GET /api/v1/admin/users?active=true&role=user
```

### 5.4 –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
```bash
POST /api/v1/admin/users/bulk
{
  "users": [
    {"user_id": 101, "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤", "role": "user"},
    {"user_id": 102, "name": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤", "role": "manager"}
  ]
}
```

### 11. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞—É–¥–∏—Ç (—Ä–∞—Å—à–∏—Ä–µ–Ω–æ)

#### 11.4 –ù–æ–≤—ã–µ —Ç–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π
| –¢–∏–ø —Å–æ–±—ã—Ç–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|-----------|
| `participant_added` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≤ —Å–µ—Å—Å–∏—é |
| `participant_updated` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤ —É—á–∞—Å—Ç–Ω–∏–∫–∞ |
| `participant_removed` | –£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∏–∑ —Å–µ—Å—Å–∏–∏ |
| `role_changed` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `session_reopened` | –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏ |

### 13. –û—à–∏–±–∫–∏ –∏ –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤ (–¥–æ–ø–æ–ª–Ω–µ–Ω–æ)

#### 13.4 –ù–æ–≤—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫
| –ö–æ–¥ | –¢–∏–ø | –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è |
|-----|-----|------------------|
| 403 | `cannot_vote` | "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏" |
| 403 | `cannot_receive_votes` | "–¶–µ–ª–µ–≤–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –≥–æ–ª–æ—Å–∞" |
| 404 | `participant_not_found` | "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–º —Å–µ—Å—Å–∏–∏" |
| 409 | `session_already_closed` | "–°–µ—Å—Å–∏—è —É–∂–µ –∑–∞–∫—Ä—ã—Ç–∞" |

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

1. **–°–µ—Å—Å–∏–∏ –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∏** - –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∞–±–ª–∏—Ü–µ `session_participants`
2. **–†–æ–ª–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª—è–º `role` –∏ `permissions` –≤ —Ç–∞–±–ª–∏—Ü–µ `users`
3. **–ê—É–¥–∏—Ç** - –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–µ–π `audit_log`
4. **–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ** - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∞–±–ª–∏—Ü–µ `votes` —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **–û–±–Ω–æ–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è** —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
2. **–î–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏** —Å–µ—Å—Å–∏–∏
3. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –æ—à–∏–±–æ–∫** —Å –Ω–æ–≤—ã–º–∏ –∫–æ–¥–∞–º–∏
4. **–£—Ç–æ—á–Ω–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** —á–µ—Ä–µ–∑ Telegram

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è **–Ω–∞ 95% –≥–æ—Ç–æ–≤–∞** –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã –∏ –∫–∞—Å–∞—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —É—Ç–æ—á–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–µ—Å—Å–∏–π.

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–¥—É–º–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! üéâ